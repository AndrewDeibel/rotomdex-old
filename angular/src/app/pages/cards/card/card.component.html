<div class="max">
	<!-- Card -->
	<article class="card-detail flex z-2" *ngIf="card">

		<!-- Card image -->
		<figure class="card-image">
			<div class="card-image-inner">
				<img
					src="{{card.image}}"
					class="img-card-image"
					[class.active]="cardImageHover"
					(click)="cardImageHover = !cardImageHover" />
				<img
					src="{{card.image_high_res}}"
					class="img-card-image-hover"
					[class.active]="cardImageHover"
					(click)="cardImageHover = !cardImageHover" />
			</div>
		</figure>

		<!-- Card information -->
		<aside class="card-information-wrapper">
			<div class="card-information-inner"></div>
			<div class="card-information">

				<div class="card-name-types flex flex-center flex-wrap padded margin-bottom">
					<div class="card-name medium-12 box">
						<h1>{{card.name}}</h1>
					</div>
					<div class="medium-12 flex padded flex-center">
						<div class="card-hp">
							<span>HP</span>{{card.hp}}
						</div>
						<div class="card-types">
							<div *ngFor="let type of card.types">
								<mb-type-tag [type]="type"></mb-type-tag>
							</div>
						</div>
					</div>
				</div>

				<div class="border-top padding-top">
					<div class="padding-top">
						<div class="flex padded vertical">
							<div class="card-rarity flex" *ngIf="tagRarity">
								<mb-tag [tag]="tagRarity"></mb-tag>
							</div>
							<div class="card-expansion">
								<a [routerLink]="card.expansion.route">
									{{card.expansion.name}}
								</a>
							</div>
							<div class="card-number">
								{{card.number}}
							</div>
							<div class="card-artist">
								<div class="subheading">Illustrated by</div>
								{{card.artist}}
							</div>
							<div class="card-price" *ngIf="card.price">
								{{card.price | currency}}
							</div>
							<div *ngIf="card.pokemon" class="flex">
								<a [routerLink]="card.pokemon.route" class="card-pokemon">
									<img
										*ngIf="card.is_shiny"
										[src]="card.pokemon.variant.sprites.shiny" />
									<img
										*ngIf="!card.is_shiny"
										[src]="card.pokemon.variant.sprites.default" />
									<span class="pokemon-name">
										{{card.pokemon.name}}
									</span>
								</a>
							</div>
							<div>
								<mb-button [button]="{text: 'Buy on TCGPlayer', icon: 'external-link', classes: 'secondary'}"></mb-button>
							</div>
							<div>
								<mb-button [button]="{text: 'Buy on eBay', icon: 'external-link', classes: 'secondary'}"></mb-button>
							</div>
						</div>
					</div>
				</div>
			
			</div>
		</aside>
		
	</article>

	<div class="flex vertical padding relative z-1">
		<div class="padding">
			<mb-items
				[items]="relatedCards"
				(outputGetItems)="getRelatedCards()"
				(outputDisplayModeChanged)="getRelatedCards()">
			</mb-items>
		</div>
		<div class="padding">
			<mb-items
				[items]="expansionCards"
				(outputGetItems)="getExpansionCards()"
				(outputDisplayModeChanged)="getExpansionCards()">
			</mb-items>
		</div>
	</div>
</div>